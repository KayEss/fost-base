path-constant TOP : . ;
include $(TOP)/../boost-version.jam ;
include $(TOP)/fost.jam ;

variant debug-mfc : debug : <define>FOST_HAVE_MFC <define>_AFXDLL ;
variant release-mfc : release : <define>FOST_HAVE_MFC <define>_AFXDLL ;

import feature : feature ;
feature cpp-version : cpp11 cpp14 :
        composite propagated optional symmetric implicit
    ;
feature.compose <cpp-version>cpp11 :
        <cxxflags>-std=c++11
    ;
feature.compose <cpp-version>cpp14 :
        <cxxflags>-std=c++14
    ;

fost-project fost-base ;

alias docs :
        Docs
    ;
explicit docs ;

alias examples :
        Examples/BeerCamp//primes-multi
        Examples/BeerCamp//primes-single
        Examples/BeerCamp//primes-multi-slow
        Examples/BeerCamp//primes-single-slow
        Examples/FizzBuzz
        Examples/fprettyjson
        Examples/hash
        Examples/Hello
    ;
explicit examples ;

alias fost :
        ../crypto++
        Cpp/fost-cli
        Cpp/fost-core
        Cpp/fost-crypto
        Cpp/fost-datetime
        Cpp/fost-ftest
        Cpp/fost-test
    ;

alias tests :
        Cpp/fost-core-test/
    ;
explicit tests ;

alias all :
        docs
        examples
        fost
        tests
    ;
explicit all ;
